{"version":3,"sources":["modal.min.js"],"names":["__extends","this","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","$y","AbstractModal","options","top","_moveing","_scaleing","$el","el","document","querySelector","$title","title","$close","close","$panel","panel","Uitls","uuid","isArray","obj","toString","call","mousedown","type","dom","callback","isMobile","mouseup","mousemove","on","event","addEventListener","off","removeEventListener","dragStart","onselectstart","ondragstart","dragStop","Modal","_super","_this","_bindEvent","isShow","style","display","show","classList","add","_setPosition","remove","setTimeout","hide","left","modalBody","isHide","body","scrollWidth","getBoundingClientRect","width","_getPanelInfo","_panelInfo","right","bottom","scrollHeight","_getDragState","elInfo","_dragState","startMouseTop","pageY","startMouseLeft","pageX","startTop","documentElement","scrollTop","window","pageYOffset","startRight","startLeft","scrollLeft","pageXOffset","startBottom","height","_mousedownHandle","_elInfo","_event","targetTouches","_minTop","_minLeft","_maxTop","_maxLeft","console","log","clientY","_mousemoveHandle","top_1","_mouseupHandle","_mouseoverHandle","cursor","_removeCursorHandle","_dragEvent","_closeEvent","_winResize","timeOut","clearTimeout","_changeResize","_modalWidth","_modalHeight","temp","_maxWidth","_maxHeight","$resizeWidthTarget","$resizeHeightTarget","_createResize","em","createElement","appendChild","destroy"],"mappings":"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","file":"modal.min.js","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar $y;\n(function ($y) {\n    var AbstractModal = (function () {\n        function AbstractModal(options) {\n            this.top = 100; // 模态框初始top\n            this._moveing = false; // 是否处于移动状态\n            this._scaleing = false; // 是否处于缩放状态\n            if (options.top) {\n                this.top = options.top;\n            }\n            this.$el = typeof options.el === 'string' ? document.querySelector(options.el) : options.el;\n            this.$title = typeof options.title === 'string' ? document.querySelector(options.title) : options.title;\n            this.$close = typeof options.close === 'string' ? document.querySelector(options.close) : options.close;\n            this.$panel = typeof options.panel === 'string' ? document.querySelector(options.panel) : options.panel;\n        }\n        return AbstractModal;\n    }());\n    $y.AbstractModal = AbstractModal;\n})($y || ($y = {}));\nvar $y;\n(function ($y) {\n    $y.Uitls = {\n        uuid: 0,\n        isArray: function (obj) {\n            return Object.prototype.toString.call(obj) === '[object Array]';\n        },\n        mousedown: function (type, dom, callback) {\n            this[type](this.isMobile() ? 'touchstart' : 'mousedown', dom, callback);\n        },\n        mouseup: function (type, dom, callback) {\n            this[type](this.isMobile() ? 'touchend' : 'mouseup', dom, callback);\n        },\n        mousemove: function (type, dom, callback) {\n            this[type](this.isMobile() ? 'touchmove' : 'mousemove', dom, callback);\n        },\n        on: function (event, dom, callback) {\n            var doc = document;\n            doc.addEventListener && dom.addEventListener(event, callback, false);\n        },\n        off: function (event, dom, callback) {\n            var doc = document;\n            doc.removeEventListener && dom.removeEventListener(event, callback, false);\n        },\n        isMobile: function () {\n            return 'ontouchmove' in document;\n        },\n        dragStart: function () {\n            document.onselectstart = function () { return false; };\n            document.ondragstart = function () { return false; };\n        },\n        dragStop: function () {\n            document.onselectstart = null;\n            document.ondragstart = null;\n        }\n    };\n})($y || ($y = {}));\n/// <reference path=\"../utils/Utils.ts\" />\nvar $y;\n(function ($y) {\n    var Modal = (function (_super) {\n        __extends(Modal, _super);\n        function Modal(options) {\n            var _this = _super.call(this, options) || this;\n            _this._bindEvent();\n            return _this;\n        }\n        Modal.prototype.isShow = function () {\n            if (!this.$el) {\n                return;\n            }\n            if (this.$el.style.display === 'none') {\n                return false;\n            }\n            else {\n                return true;\n            }\n        };\n        Modal.prototype.show = function () {\n            var _this = this;\n            if (!this.$el) {\n                return;\n            }\n            this.$el.classList.add('y-modal');\n            // 初始化显示的位置\n            this._setPosition();\n            this.$el.classList.remove('fade');\n            this.$el.style.display = 'block';\n            this.$el.classList.add('y-modal-opening');\n            setTimeout(function () {\n                _this.$el.classList.remove('y-modal-opening');\n            }, 500);\n        };\n        Modal.prototype.hide = function () {\n            var _this = this;\n            if (!this.$el) {\n                return;\n            }\n            this.$el.classList.add('y-modal-closing');\n            setTimeout(function () {\n                _this.$el.classList.add('fade');\n                _this.$el.style.display = 'none';\n                _this.$el.classList.remove('y-modal-closing');\n            }, 450);\n        };\n        // 对话框位置设置\n        Modal.prototype._setPosition = function () {\n            var left, modalBody = this.$el, isHide = this.$el.style.display != 'block';\n            if (isHide) {\n                this.$el.classList.remove('fade');\n                this.$el.style.display = 'block';\n            }\n            left = document.body.scrollWidth / 2 - (modalBody.getBoundingClientRect().width / 2);\n            if (isHide) {\n                this.$el.style.display = 'none';\n                this.$el.classList.add('fade');\n            }\n            this.$el.style.top = this.top + 'px';\n            this.$el.style.left = (left < 0 ? 0 : left) + 'px';\n        };\n        // 获取拖拽边界\n        Modal.prototype._getPanelInfo = function () {\n            if (!this._panelInfo) {\n                if (this.$panel) {\n                    return this.$panel.getBoundingClientRect();\n                }\n                else {\n                    return {\n                        top: 0,\n                        left: 0,\n                        right: document.body.scrollWidth,\n                        bottom: document.body.scrollHeight\n                    };\n                }\n            }\n            else {\n                return this._panelInfo;\n            }\n        };\n        // 获取模态框坐标信息\n        Modal.prototype._getDragState = function (event, elInfo, type) {\n            if (!this._dragState || type) {\n                return {\n                    startMouseTop: event.pageY,\n                    startMouseLeft: event.pageX,\n                    startTop: elInfo.top + (document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset),\n                    startRight: elInfo.left + elInfo.width,\n                    startLeft: elInfo.left + (document.documentElement.scrollLeft || document.body.scrollLeft || window.pageXOffset),\n                    startBottom: elInfo.top + elInfo.height,\n                    width: elInfo.width,\n                    height: elInfo.height\n                };\n            }\n            else {\n                return this._dragState;\n            }\n        };\n        // 鼠标按下\n        Modal.prototype._mousedownHandle = function (event) {\n            var _this = this;\n            var _elInfo = this.$el.getBoundingClientRect(), _event = $y.Uitls.isMobile() ? event.targetTouches[0] : event, _minTop = 0, _minLeft = 0, _maxTop = 0, _maxLeft = 0;\n            this._moveing = true;\n            $y.Uitls.dragStart();\n            this.$el.classList.add('y-modal-graging');\n            this._panelInfo = this._getPanelInfo();\n            this._dragState = this._getDragState(_event, _elInfo, true);\n            _minTop = this._panelInfo.top;\n            _maxTop = this._panelInfo.bottom - this._dragState.height;\n            _minLeft = this._panelInfo.left;\n            _maxLeft = this._panelInfo.right - this._dragState.width;\n            console.log(this._dragState, _event.pageY, _event.clientY, _event);\n            // 对话框移动主事件\n            var _mousemoveHandle = function (event) {\n                var _event = $y.Uitls.isMobile() ? event.targetTouches[0] : event;\n                if (_this._moveing) {\n                    //alert('startMouseLeft:'+this._dragState.startMouseLeft + '|startMouseTop:' + this._dragState.startMouseTop);\n                    // 控制边界\n                    var top_1 = _this._dragState.startTop + (_event.pageY - _this._dragState.startMouseTop), left = _this._dragState.startLeft + (_event.pageX - _this._dragState.startMouseLeft);\n                    // 上边界\n                    top_1 = top_1 < _minTop ? _minTop : top_1;\n                    // 下边界\n                    top_1 = top_1 > _maxTop ? _maxTop : top_1;\n                    // 左边界 \n                    left = left < _minLeft ? _minLeft : left;\n                    // 右边界\n                    left = left > _maxLeft ? _maxLeft : left;\n                    _this.$el.style.top = top_1 + 'px';\n                    _this.$el.style.left = left + 'px';\n                }\n            };\n            // 鼠标释放\n            var _mouseupHandle = function (event) {\n                _this._moveing = false;\n                _this._panelInfo = null;\n                _this._dragState = null;\n                _this.$el.classList.remove('y-modal-graging');\n                $y.Uitls.dragStop();\n                $y.Uitls.mousemove('off', document, _mousemoveHandle);\n                $y.Uitls.mouseup('off', document, _mouseupHandle);\n            };\n            $y.Uitls.mousemove('on', document, _mousemoveHandle);\n            $y.Uitls.mouseup('on', document, _mouseupHandle);\n        };\n        // 鼠标划过，变换鼠标样式\n        Modal.prototype._mouseoverHandle = function (event) {\n            document.body.style.cursor = 'move';\n        };\n        // 移除鼠标样式\n        Modal.prototype._removeCursorHandle = function () {\n            document.body.style.cursor = '';\n        };\n        // 标题栏拖拽事件\n        Modal.prototype._dragEvent = function () {\n            var _this = this;\n            $y.Uitls.mousedown('on', this.$title, function (event) { _this._mousedownHandle(event); });\n            $y.Uitls.on('mouseover', this.$title, this._mouseoverHandle);\n            $y.Uitls.on('mouseout', this.$title, this._removeCursorHandle);\n            $y.Uitls.on('mouseout', this.$el, this._removeCursorHandle);\n        };\n        // 关闭按钮事件\n        Modal.prototype._closeEvent = function () {\n            var _this = this;\n            if (this.$close) {\n                $y.Uitls.on('mouseup', this.$close, function (event) { _this.hide(); });\n            }\n        };\n        // 窗口重置，调整对话框显示位置\n        Modal.prototype._winResize = function () {\n            var _this = this;\n            var timeOut;\n            $y.Uitls.on('resize', window, function () {\n                timeOut && clearTimeout(timeOut);\n                timeOut = setTimeout(function () {\n                    _this._setPosition();\n                }, 100);\n            });\n        };\n        // 改变窗口大小\n        Modal.prototype._changeResize = function (event) {\n            var _this = this;\n            var _elInfo = this.$el.getBoundingClientRect(), _event = $y.Uitls.isMobile() ? event.targetTouches[0] : event, _modalWidth, _modalHeight, _minWidth = 100, _minHeight = 50, _maxWidth = 0, _maxHeight = 0, temp;\n            $y.Uitls.dragStart();\n            this._scaleing = true;\n            this._panelInfo = this._getPanelInfo();\n            this._dragState = this._getDragState(_event, _elInfo, true);\n            if (!this.$resizeWidthTarget) {\n                if (temp = this.$el.querySelector('.modal-dialog')) {\n                    this.$resizeWidthTarget = temp;\n                    temp = null;\n                }\n                else {\n                    this.$resizeWidthTarget = this.$el;\n                }\n            }\n            if (!this.$resizeHeightTarget) {\n                if (temp = this.$el.querySelector('.modal-body')) {\n                    this.$resizeHeightTarget = temp;\n                    temp = null;\n                }\n                else {\n                    this.$resizeWidthTarget = this.$el;\n                }\n            }\n            _modalWidth = this.$resizeWidthTarget.getBoundingClientRect();\n            _modalHeight = this.$resizeHeightTarget.getBoundingClientRect();\n            _maxWidth = this._panelInfo.right - _modalWidth.left;\n            _maxHeight = this._panelInfo.bottom - _modalHeight.top;\n            _modalWidth = _modalWidth.width;\n            _modalHeight = _modalHeight.height;\n            // 对话框移动主事件\n            var _mousemoveHandle = function (event) {\n                var _event = $y.Uitls.isMobile() ? event.targetTouches[0] : event;\n                if (_this._scaleing) {\n                    //alert('startMouseLeft:'+this._dragState.startMouseLeft + '|startMouseTop:' + this._dragState.startMouseTop);\n                    // 控制边界\n                    var width = _modalWidth + (_event.pageX - _this._dragState.startMouseLeft), height = _modalHeight + (_event.pageY - _this._dragState.startMouseTop);\n                    width = width > _maxWidth ? _maxWidth : width;\n                    width = width < _minWidth ? _minWidth : width;\n                    height = height > _maxHeight ? _maxHeight : height;\n                    height = height < _minHeight ? _minHeight : height;\n                    if (_this.$resizeWidthTarget) {\n                        _this.$resizeWidthTarget.style.width = width + 'px';\n                    }\n                    if (_this.$resizeHeightTarget) {\n                        _this.$resizeHeightTarget.style.height = height + 'px';\n                    }\n                }\n            };\n            // 鼠标释放\n            var _mouseupHandle = function (event) {\n                _this._scaleing = false;\n                _this._panelInfo = null;\n                _this._dragState = null;\n                $y.Uitls.dragStop();\n                $y.Uitls.mousemove('off', document, _mousemoveHandle);\n                $y.Uitls.mouseup('off', document, _mouseupHandle);\n            };\n            $y.Uitls.mousemove('on', document, _mousemoveHandle);\n            $y.Uitls.mouseup('on', document, _mouseupHandle);\n        };\n        Modal.prototype._createResize = function () {\n            var _this = this;\n            var em = document.createElement('em');\n            em.classList.add('y-modal-btn-resize');\n            this.$el.appendChild(em);\n            $y.Uitls.mousedown('on', em, function (event) { _this._changeResize(event); });\n        };\n        Modal.prototype._bindEvent = function () {\n            this._createResize();\n            this._dragEvent();\n            this._winResize();\n            this._closeEvent();\n        };\n        Modal.prototype.destroy = function () {\n            this.$el = null;\n            this.$panel = null;\n            this.$title = null;\n            this.$close = null;\n            this._panelInfo = null;\n            this._dragState = null;\n            document.body.style.cursor = '';\n        };\n        return Modal;\n    }($y.AbstractModal));\n    $y.Modal = Modal;\n})($y || ($y = {}));\n"]}