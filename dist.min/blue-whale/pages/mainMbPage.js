define(["require","exports"],function(e,a){"use strict";var t=BW.CONF,s=BW.sys,i=G.d;return function(e){this.para=e,{pagesContainer:document.getElementById("pagesContainer"),pages:{home:t.url.home,message:t.url.message,contact:t.url.contact,myselfMenu:t.url.myselfMenu},lastShowPage:null,createIframes:function(){var e,a=[];for(e in this.pages)if(this.pages.hasOwnProperty(e)){var t=this.pages[e],s=i.create('<iframe data-page-name="'+e+'" class="full-height has-footer-tab hide" src="'+t+'"> </iframe>');a.push(s),this.pagesContainer.appendChild(s)}return a},autoShow:function(){this.pagesContainer.classList.remove("has-spinner");var e=this.pagesContainer.querySelector('[src="'+this.pages.home+'"]');(this.lastShowPage=e).classList.remove("hide")},showIframe:function(e){var a=this.pagesContainer.querySelector('[data-page-name="'+e+'"]');null!==this.lastShowPage&&this.lastShowPage.classList.add("hide"),a.classList.remove("hide"),this.lastShowPage=a},initPages:function(){var a=this,e=a.createIframes();setTimeout(function(){a.autoShow()},500);var t=i.query(".mui-bar.mui-bar-tab");return i.on(t,"click","[data-page-name]",function(e){i.queryAll("[data-page-name]",t).forEach(function(e){e.classList.remove("mui-active")}),i.closest(e.target,"[data-page-name]").classList.add("mui-active"),a.showIframe(this.dataset.pageName)}),e}}.initPages(),s.window.close=double_back}});