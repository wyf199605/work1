define("UnBinding",["require","exports","Modal","BwRule"],function(e,i,s,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var c=BW.sys,a=G.tools,d=BW.CONF,l=G.d,n=function(){function e(e){var i,a=this;"pc"!==c.os&&(i="full");var n=h("ul",{className:"device-view"});this.modal=new s.Modal({header:"设备管理",body:n,position:i,isOnceDestroy:!0}),this.modal.isShow=!0,e.forEach(function(e){n.appendChild(a.deviceTpl(e))});var o=this;l.on(n,"click",".unbind",function(){var e=JSON.stringify([{uuid:this.dataset.name}]);t.BwRule.Ajax.fetch(d.ajaxUrl.unbound,{type:"post",data:e}).then(function(){o.modal.isShow=!1,s.Modal.toast("解绑成功")})})}return e.prototype.show=function(){this.modal.isShow=!0},e.prototype.deviceTpl=function(e){return h("li",{className:"device-cell"},h("div",{className:"icon-box"},h("span",{className:"iconfont "+(a.isMb?"icon-device-mb":"icon-device-pc")})),h("div",{className:"device-name"},h("div",{className:"device-modal"},"型号：",e.MODEL),h("div",{className:"device-vendor"},"品牌：",e.VENDOR),h("div",{className:"device-time"},"注册时间：",e.REGISTER_TIME)),h("div",{className:"btn-group"},h("button",{className:"unbind","data-name":e.UUID},"解绑")))},e}();i.UnBinding=n});